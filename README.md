# Игра RTU AirLab

[Видеоролик про проект](https://youtu.be/2W8idyg0K6w)

[Скачать игру](https://disk.yandex.ru/d/tZDI4HcLdUW4Uw)

### **Описание**

RTU AirLab — это захватывающая игра про самолеты в lowpoly стиле.

![S1](https://user-images.githubusercontent.com/46666053/111472090-b0dc1b80-873a-11eb-93b2-6a03b97f6601.png)

В RTU AirLab игрок имеет возможность научиться управлять самолетом, а также осуществлять взлет и посадку благодаря режиму обучения.

![S2](https://user-images.githubusercontent.com/46666053/111472150-bfc2ce00-873a-11eb-83e6-3bcf6d9dc02a.png)

После этого игрок может испытать свои навыки в режиме соревнований различных уровней сложности. В данном режиме необходимо пролететь через все кольца как можно быстрее. Лучшее время сохраняется отдельно для каждого уровня.

![S3](https://user-images.githubusercontent.com/46666053/111472190-c81b0900-873a-11eb-9e1d-e20423575530.jpg)

Наконец, пользователь может самостоятельно устремиться в небо и просто полетать в свое удовольствие. В режиме cвободного полета игрок может выбрать погоду и один из трех аэропортов, из которых он может улететь куда угодно.

![S4](https://user-images.githubusercontent.com/46666053/111472204-cb15f980-873a-11eb-8a68-d89efcebe53d.png)

В ангаре доступен выбор ливреи для самолета. В будущем возможно добавить самолеты с различными характеристиками и управляемостью.

![S5](https://user-images.githubusercontent.com/46666053/111472219-ce10ea00-873a-11eb-9152-1a63195dd1b9.png)

RTU AirLab обладает хорошей реалистичной физикой. У самолета имеются элероны для изменения угла крена, руль направления для изменения угла рыскания, рули высоты для изменения тангажа и даже закрылки, которые добавляют необходимую подъемную силу при взлете и посадке.

![S6](https://user-images.githubusercontent.com/46666053/111472230-d0734400-873a-11eb-99b1-8eae4430c851.png)

Пугаетесь слов «тангаж», «рыскание» или «закрылки»? Скачайте игру и узнайте много нового! Игра очень дружелюбна к новичкам, но и опытные пилоты могут насладиться полетами в этой игре.

![S7](https://user-images.githubusercontent.com/46666053/111472236-d2d59e00-873a-11eb-8563-bab57fff2dcd.png)

### **Установка**

На данный момент игра доступна только для ПК на ОС Windows. Для установки необходимо скачать ZIP-архив и распаковать его. Далее нужно запустить игру, нажав на файл с иконкой под названием RTU-AirLab.exe.

[Скачать игру](https://disk.yandex.ru/d/tZDI4HcLdUW4Uw)

# Разработка

### **Открытие проекта**

Проект RTUITLab-Recruit сделан в Unity версии 2020.2.5f1. Для запуска проекта его необходимо скачать по кнопке «Code» вверху страницы. 

![T1](https://user-images.githubusercontent.com/46666053/111496040-fc99bf80-8750-11eb-936e-9217c884845a.png)

После распаковки нужно добавить папку проекта в Unity Hub. **Важно:** чтобы проект открылся, нужно указывать путь именно на ту папку, внутри которой уже идут файлы для Unity (Assets, Library, Packages).

### **Функции**

Я должен был выполнить первый уровень. Так как я делал проект в одиночку, я мог выбирать задания из последующих уровней, не выполняя их все. Например, я сделал обширную локацию, но не запекал свет. Или сделал мини-игру с кольцами, но не делал сохранение логина при запуске, так как сделал другую систему: для 1 устройства — 1 рекорд на каждый уровень.

### **Архитектура самолета**

![T2](https://user-images.githubusercontent.com/46666053/111592764-47134e80-87da-11eb-9cb9-00cdf12ba40f.png)

PlaneController — главный класс в самолете. Он хранит значения ввода (yaw, pitch, roll, flaps), передает их классу PlaneVisuals в методе UpdateVisuals(), который отвечает за визуальную состовляющую — показывает игроку насколько выдвинуты закрылки, элероны и т.п. Также этот класс отвечает за текстуру самолета, которую игрок выбрал в ангаре.

Так как PlaneController берет данные из Inputs, он также переключает положение шасси, вызывая метод ToggleChassis() в классе Chassis.

За крен, тангаж, рыскание и закрылки отвечает класс PlaneController. За тягу самолета вперед отвечает класс Engine, в котором также прописано поведение при низкой скорости — если текущая скорость ниже stallSpeed, то самолет начинает крениться набок и постепенно падать.

### **Типы управления**

На данный момент доступно управление только с клавиатуры. Для добавления нового типа управления необходимо наследоваться от общего абстрактного класса Inputs и реализовывать его абстрактные функции. Благодаря этому можно добавить управление при помощи геймпада или джойстика, а также сенсорное управление для мобильных устройств. Объект с предпочитаемым типом управления нужно добавить на сцену, после чего Plane Controller сам найдет его и будет брать из него значения.

### **Создание игровых режимов**

Передача данных из главного меню в игровую сцену происходит при помощи PlayerPrefs. Для создания нового игрового режима, в главном меню нужно указывать айди этого игрового режима: `PlayerPrefs.SetInt("Gamemode", id)`, который далее на игровой сцене будет обрабатывать GameManager: 

```
gamemode = PlayerPrefs.GetInt("Gamemode");
switch (gamemode)
{
  case 0: // Соревнования
    competition.SetActive(true);
    break;
  case 1: // Свободный полет
    freeFlight.SetActive(true);
    break;
  case 2: // Обучение
    tutorial.SetActive(true);
    break;
}
```

GameManager включает необходимый объект с классом игрового режима, который уже сам будет контролировать процесс: например, обрабатывать айди уровня и включать нужный уровень, перемещать самолет в определенную точку и т.п.

Также в главном меню необходимо задать погоду: `PlayerPrefs.SetInt("Weather", id)`, где 0 — солнечный день, 1 — туманная непогода, 2 — вечерний закат. Далее это значение подхватит WeatherManager, находящийся в игровой сцене, который задаст цвет тумана, дальность видимости и материал скайбокса.

### **Полноценность проекта**

На данном этапе игра представляет собой законченный продукт, готовый к использованию и выгрузке в магазины приложений. Игра RTU AirLab обладает скриншотами, логотипом, описанием и видеороликом с геймплеем. В самой игре имеются различные режимы, в которых есть обучающая или соревновательная часть. А также звуковое сопровождение, удобный красивый интерфейс и большие перспективы на будущее!

### **Сделано с нуля за 30 дней специально для RTUITLab, опубликовано 07.03.2020.**

В проекте были использованы ассеты Polygon War от Synty Studios, звуки от Soundsnap и Zapsplat, спрайты и шрифт из Modern UI Pack от Michsky и иконки от Flaticon.
